/*
 * jQuery.fullscreen library v0.3.4
 * Copyright (c) 2013 Vladimir Zhuravlev
 *
 * @license https://github.com/private-face/jquery.fullscreen/blob/master/LICENSE
 *
 * Date: Thu Apr 18 02:12:59 NOVT 2013
 **/
(function(e){var t,n,l,s,r,o,i,u,_;function c(e){return e!==void 0}function h(t,n,l){var s=function(){};s.prototype=n.prototype,t.prototype=new s,t.prototype.constructor=t,n.prototype.constructor=n,t._super=n.prototype,l&&e.extend(t.prototype,l)}function f(e,l){var s,r,o;for("string"==typeof e&&(l=e,e=document),r=0;t.length>r;++r)for(l=l.replace(t[r][0],t[r][1]),o=0;n.length>o;++o)if(s=n[o],s+=0===o?l:l.charAt(0).toUpperCase()+l.substr(1),c(e[s]))return e[s];return void 0}t=[["",""],["exit","cancel"],["screen","Screen"]],n=["","o","ms","moz","webkit","webkitCurrent"],l=navigator.userAgent,s=f("fullscreenEnabled"),r=-1!==l.indexOf("Android")&&-1!==l.indexOf("Chrome"),o=!r&&c(f("fullscreenElement"))&&(!c(s)||s===!0),i=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}},i.prototype={_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null,documentScroll:!1},__documentOverflow:"",__htmlOverflow:"",_preventDocumentScroll:function(){this.__options.documentScroll||(this.__documentOverflow=e("body")[0].style.overflow,this.__htmlOverflow=e("html")[0].style.overflow,e("body, html").css("overflow","hidden"))},_allowDocumentScroll:function(){this.__options.documentScroll||(e("body")[0].style.overflow=this.__documentOverflow,e("html")[0].style.overflow=this.__htmlOverflow)},_fullScreenChange:function(){this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null)},_fullScreenError:function(t){this._revertStyles(),this._fullScreenElement=null,t&&e(document).trigger("fscreenerror",[t])},_triggerEvents:function(){e(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),e(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var t,n;t=e(this._fullScreenElement),this.__savedStyles={};for(n in this.__options.styles)this.__savedStyles[n]=this._fullScreenElement.style[n],this._fullScreenElement.style[n]=this.__options.styles[n];this.__options.toggleClass&&t.addClass(this.__options.toggleClass)},_revertStyles:function(){var t,n;t=e(this._fullScreenElement);for(n in this.__options.styles)this._fullScreenElement.style[n]=this.__savedStyles[n];this.__options.toggleClass&&t.removeClass(this.__options.toggleClass)},open:function(t,n){t!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=t,this.__options=e.extend(!0,{},this._DEFAULT_OPTIONS,n),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return o}},u=function(){u._super.constructor.apply(this,arguments),this.exit=e.proxy(f("exitFullscreen"),document),this._DEFAULT_OPTIONS=e.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}}),e(document).bind(this._prefixedString("fullscreenchange"),e.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror"),e.proxy(this._fullScreenError,this))},h(u,i,{VENDOR_PREFIXES:["","o","ms","moz","webkit"],_prefixedString:function(t){return e.map(this.VENDOR_PREFIXES,function(e){return e+t}).join(" ")},open:function(e){u._super.open.apply(this,arguments);var t=f(e,"requestFullscreen");t.call(e)},exit:e.noop,isFullScreen:function(){return null!==f("fullscreenElement")},element:function(){return f("fullscreenElement")}}),_=function(){_._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=e.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()},h(_,i,{__JQ_LT_17:1.7>parseFloat(e.fn.jquery),__isFullScreen:!1,__delegateKeydownHandler:function(){var t,n,l;t=e(document),t.delegate("*","keydown.fullscreen",e.proxy(this.__keydownHandler,this)),n=this.__JQ_LT_17?t.data("events"):e._data(document).events,l=n.keydown,this.__JQ_LT_17?n.live.unshift(n.live.pop()):l.splice(0,0,l.splice(l.delegateCount-1,1)[0])},__keydownHandler:function(e){return this.isFullScreen()&&27===e.which?(this.exit(),!1):!0},_revertStyles:function(){_._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(){_._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen=!1,this._fullScreenChange()},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),e.fullscreen=o?new u:new _,e.fn.fullscreen=function(t){var n=this[0];return t=e.extend({toggleClass:null,overflow:"hidden"},t),t.styles={overflow:t.overflow},delete t.overflow,n&&e.fullscreen.open(n,t),this}})(jQuery);